type: ollama
metric_name_suffix: -logicnlg
annotation_key: "annotations"
model: qwen2:72b
api_url: http://tdll-3gpu4.ufal.hide.ms.mff.cuni.cz:11434/api/generate
model_args:
  max_tokens: 1024
  num_beams: 1
  temperature: 0.0
  top_p: 1.0
  top_k: 0.0
  do_sample: false 
  seed: 424242
system_msg: "You are an expert linguist and data scientiest focusing on the data-to-text annotation systems. You understand structured data and you correcly operate with units and numerical values. You are designed to output token-level annotations in JSON."
prompt_template: |
  Given the data in the table below:
  ```
  {data}
  ```
  Annotate all the factual errors and also interesting and boring aparts in the following text:
  ```
  {text}
  ```
  Output the annotations as a JSON list of "annotations". Each item in the list contains fields  "reason", "text", and "type". The value of "text" is the annotated text. The value of "reason" is the reason for the annotation. The value of "type" is one of {{0, 1, 2, 3}} based on the following list:
  - 0: Incorrect fact: The fact in the text contradicts the data in the table.
  - 1: General Knowledge: The fact in the text cannot be inferred from the data in the table.
  - 2: Interesting claim: The claim in the text is non-trivial and readers find it typically interesting.
  - 3: Obvious claim: The text is boring, considered common knowledge, irrelevant, or repetitive.

  The list should be sorted by the position of the annotation in the text.

  *Example:*
  data:
  ```
  Table title: figure skating at the 1964 winter olympics
  Table:
  [['rank', 'name', 'nation', 'points', 'places'], ['1', 'sjoukje dijkstra', 'netherlands', '2018.5', '9'], ['2', 'regine heitzer', 'austria', '1945.5', '22'], ['3', 'peggy fleming', 'united states', '1819.6', '59'], ['4', 'christine haigler', 'united states', '1803.8', '74'], ['5', 'albertina noyes', 'united states', '1798.9', '73']]
  ```
  text:
  ```
  Four women competed for the United States for figure skating in the 1964 Winter Olympics. The data comes from table Figure Skating at the 1964 winter games.
  ```
  output:
  ```{{ "annotations": [{{"reason": "The table contains only 3 competitors from united states", "text": "Four", "type": 0}}, {{"reason": "Fans of United States want to know how many representatives they have in Olympic Games and for people it is hard to find all occurances. Especially in a large table.", "text": "Four women competed for the United States", "type": 1}}, {{"reason": "The note is superfluous", "text": "The data comes from table Figure Skating at the 1964 winter games.", type: 3}}] }}
  ```
  Note that some details may not be mentioned in the text: do not count omissions as errors. Also do not be too strict: some facts can be less specific than in the data (rounded values, shortened or abbreviated text, etc.), do not count these as errors. It is ok not to report anything and produce empty list. Mark interesting only truly interesting parts and similarly mark obvious phrases only if they are trully boring and obvious.